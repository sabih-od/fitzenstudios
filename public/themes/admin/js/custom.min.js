document.addEventListener('DOMContentLoaded', function () {
    var calendarEl = document.getElementById('calendar');
    function handleDatesRender(arg) {
        console.log('viewType:', arg.view.calendar.state.viewType);
    }
    var calendar = new FullCalendar.Calendar(calendarEl, {
        plugins: ['interaction', 'dayGrid', 'timeGrid'],
        defaultView: 'dayGridMonth',
        selectable: true,
        datesRender: handleDatesRender,
        defaultDate: '2022-03-01',
        header: {
            left: 'prev,next today',
            center: 'title',
            right: 'dayGridMonth,timeGridWeek,timeGridDay'
        },
        dateClick: function () {
            $('.session-popup').slideDown(500);
        },
        events: [
            {
                title: 'All Day Event',
                start: '2022-08-01'
            },
            {
                title: 'Long Event',
                start: '2022-03-07',
                end: '2022-03-10'
            },
            {
                groupId: '999',
                title: 'Repeating Event',
                start: '2022-03-09T16:00:00'
            },
            {
                groupId: '999',
                title: 'Repeating Event',
                start: '2022-03-16T16:00:00'
            }
        ]
    });

    calendar.render();
});

const data = [
    { id: 2, text: 'Monday' },
    { id: 0, text: 'Tuesday' },
    { id: 1, text: 'Wednesday' },
    { id: 2, text: 'Thursday' },
    { id: 2, text: 'Friday' },
    { id: 2, text: 'Saturday' },
    { id: 2, text: 'Sunday' },
];
$(function () {
    const select = $('#selecteddays');
    const selectedId = $('#selectedId');
    select.select2({
        placeholder: 'Select an option',
        data: data
    })
        .on('change', (event) => {
            const selecions = select.select2('data')
                .map((element) => parseInt(element.id, 10));
            selectedId.text(selecions.join(', '));
        });
});

// Search Box Open
$('.popupClone').click(function () {
    $(".session-popup").slideUp(500);
})
